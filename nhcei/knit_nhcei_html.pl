#!/usr/local/bin/perl5$site_directory = "Gumdrop:Users:roz:develop:nhcei:";$page_template = $site_directory."page_template.html";@pages = qw(about activities contact index mission papers resources );# do the index# do the projects$ii = 1;foreach $page (@pages) {  $content_buf = getFileBuf($site_directory."contents:".$page.".txt");		# get the page template  $page_buf = getFileBuf($page_template);  #replace the ^CONTENT tag	  $page_buf =~ s/\^CONTENT/$content_buf/;   #replace the ^PHOTO tag	 if( $page =~ /contact/) { 			$page_buf =~ s/\^PHOTO/_contact/; 	}		else {  		$page_buf =~ s/\^PHOTO/$ii/; 			if( $ii < 5 ) {  					$ii++;				}		}		$page_file = $site_directory.$page.".html";		open(PAGE_FILE, ">".$page_file) || die "can't open file '$page_file'.\n";		print PAGE_FILE $page_buf;		close PAGE_FILE;} sub getFileBuf {  my $the_file = shift;  my $buf = "";  open(THEFILE, $the_file) || die "can't open file '$the_file'.\n";  read( THEFILE, $buf, 16384) || die "can't read file '$the_file'.\n";  close(THEFILE);  return $buf;}sub stripHTMLHeader {  my $out_buf = "";  $_ = shift;  if (/<body>(.*)<\/body>/si) {    $out_buf = $1;   }  return $out_buf;}